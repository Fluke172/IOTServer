<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cssf.mapper.BookMapper">

        <insert id="insertBook" parameterType="com.cssf.pojo.book.Book">
            insert ignore into iotdb.book(id,bname,state,info,local) values (#{id},#{bname},#{state},#{info},#{local})
        </insert>
        <delete id="deleteBook">
            delete from iotdb.book where id = #{id}
        </delete>
        <update id="updateBook" parameterType="com.cssf.pojo.book.Book">
            update iotdb.book set id = #{id},bname = #{bname},state=#{state},info=#{info},local=#{local} where  id = #{id}
        </update>
        <update id="changeBookState" >
            update iotdb.book set state=#{state}
        </update>
        <select id="queryAllBook" resultType="com.cssf.pojo.book.Book">
            select * from iotdb.book order by id desc
        </select>
        <select id="queryBookById" resultType="com.cssf.pojo.book.Book">
            select * from iotdb.book where id = #{id}
        </select>
        <select id="queryBookByName" resultType="com.cssf.pojo.book.Book">
            select * from iotdb.book where bname = #{bname}
        </select>


</mapper>
